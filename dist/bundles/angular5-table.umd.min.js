!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common"),require("@angular/forms")):"function"==typeof define&&define.amd?define("angular5-table",["exports","@angular/core","@angular/common","@angular/forms"],e):e(t["angular5-table"]={},t.ng.core,t.ng.common,t.ng.forms)}(this,function(t,e,n,i){"use strict";var a=function(){function t(){this.items=[],this.columsKeys=[],this.mergeObject=[]}return t.prototype.ngOnInit=function(){console.log(this.dataTable),this.filterFunction=this.filterTable.bind(this)},t.prototype.ngDoCheck=function(){this.inputName=this.filterComponent.filterValue,this.items=this.paginationComponent.paginatedItems},t.prototype.sort=function(n){if(this.sortable){this.orderType=!this.orderType;var i=this.orderType?1:-1;this.nameColumn=n,this.items.sort(function(t,e){return t[n]<e[n]?-1*i:t[n]>e[n]?1*i:0})}},t.prototype.filterTable=function(){this.paginationComponent.FilterByName()},t.decorators=[{type:e.Component,args:[{selector:"angular5Table",template:'<div class="row" style="margin-right: 1px;">\n  <div class="col-xs-0 col-sm-1 col-md-1"></div>\n  <div class="col-xs-0 col-sm-10 col-md-10">\n    <app-filter\n      #filterTable\n      [filter]="filter"\n      [filterFunction]="filterFunction">\n    </app-filter>\n    <br>\n    <table class="table table-bordered table-condensed" style="text-align:center">\n        <thead class="header-table">\n          <th *ngFor="let key of dataColumn" (click)="sort(key)">\n            {{key}}\n            <i *ngIf="orderType && nameColumn === key" class="material-icons">&uarr;</i>\n            <i *ngIf="!orderType && nameColumn === key" class="material-icons">&darr;</i>\n          </th>\n          <th *ngFor="let option of options">{{option.name}}</th>\n        </thead>\n        <tbody>\n          <tr *ngFor="let item of items; let i=index">\n            <td *ngFor="let key of dataColumn">{{item[key]}}</td>\n            <td *ngFor="let option of options">\n              <img *ngIf="option.type===\'img\'" src="../assets/{{option.url}}" class="img" (click)="functionDefault(i,option.name,items[i],option)">\n              <button *ngIf="option.type===\'button\'" class={{option.class}} (click)="functionDefault(i,option.name,items[i],option)">{{option.name}}</button>\n              <input type="text" *ngIf="option.type===\'text\'" class={{option.class}}>\n            </td>\n          </tr>\n        </tbody>\n    </table>\n    <br>\n    <app-pagination \n      #paginationTable \n      [dataTable]="dataTable"\n      [itemsForPage]="itemsForPage"\n      [pagination]="pagination"\n      [filterValue]="inputName">\n    </app-pagination>\n  </div>\n  <div class="col-xs-0 col-sm-1 col-md-1"></div>\n</div>\n\n',styles:[".img{width:20px;height:20px}.header-table{background-color:#f8f8f8!important}"]}]}],t.propDecorators={paginationComponent:[{type:e.ViewChild,args:["paginationTable"]}],filterComponent:[{type:e.ViewChild,args:["filterTable"]}],dataTable:[{type:e.Input}],dataColumn:[{type:e.Input}],itemsForPage:[{type:e.Input}],pagination:[{type:e.Input}],options:[{type:e.Input}],filter:[{type:e.Input}],sortable:[{type:e.Input}],functionDefault:[{type:e.Input}]},t}(),o=function(){function t(){}return t.prototype.ngOnInit=function(){},t.prototype.ngDoCheck=function(){},t.decorators=[{type:e.Component,args:[{selector:"app-filter",template:'<div class="row" *ngIf="filter">\n    <div class="col-xs-0 col-sm-4 col-md-4"></div>\n    <div class="col-xs-4 col-sm-4 col-md-4">\n      <div class="input-group">\n        <div class="input-group mb-2">\n          <div class="input-group-prepend">\n            <div class="input-group-text"><i class="fa fa-search"></i></div>\n          </div>\n          <input class="form-control" placeholder="Search.." id="inputName" (keyup)="filterFunction()" [(ngModel)]="filterValue">\n        </div>\n    </div>\n  <div class="col-xs-0 col-sm-4 col-md-4"></div>\n</div>\n<br>',styles:[""]}]}],t.ctorParameters=function(){return[]},t.propDecorators={filter:[{type:e.Input}],filterFunction:[{type:e.Input}]},t}(),r=function(){function t(){this.pageNumber=1,this.currentIndex=1,this.pageStart=1}return t.prototype.ngOnInit=function(){this.filteredItems=this.dataTable,this.start()},t.prototype.start=function(){this.pages=Math.ceil(this.filteredItems.length/this.itemsForPage),this.paginateItems()},t.prototype.paginationArray=function(){for(var t=new Array,e=this.pageStart;e<this.pageStart+this.pages;e++)t.push(e);return t},t.prototype.paginateItems=function(){this.pagination?(this.paginatedItems=this.filteredItems.slice((this.currentIndex-1)*this.itemsForPage,this.currentIndex*this.itemsForPage),this.pagesIndex=this.paginationArray()):this.paginatedItems=this.dataTable},t.prototype.prevPage=function(){1<this.currentIndex&&this.currentIndex--,this.currentIndex<this.pageStart&&(this.pageStart=this.currentIndex),this.paginateItems()},t.prototype.nextPage=function(){this.currentIndex>=this.pages||(this.currentIndex>=this.pageNumber&&this.currentIndex++,this.paginateItems())},t.prototype.setPage=function(t){this.currentIndex=t,this.paginateItems()},t.prototype.FilterByName=function(){var n=this,t=Object.keys(this.dataTable[0]);this.filteredItems=[],""!=this.filterValue?this.filteredItems=this.dataTable.filter(function(e){return t.some(function(t){return e[t].includes(n.filterValue)})}):this.filteredItems=this.dataTable,console.log(this.filteredItems),this.start()},t.decorators=[{type:e.Component,args:[{selector:"app-pagination",template:'<div *ngIf="pagination">\n<div class="row">\n    <div class="col-xs-4 col-sm-4 col-md-4"></div>\n    <div class="col-xs-4 col-sm-4 col-md-4">\n        <ul class="pagination pagination-circle pg-blue mb-0 justify-content-center">\n            \x3c!--Arrow left--\x3e\n            <li [ngClass]="{\'page-item\': (currentIndex == 1 || pageNumber == 0)}">\n                <a class="page-link" aria-label="Previous" (click)="prevPage()">\n                    <span aria-hidden="true">&laquo;</span>\n                    <span class="sr-only">Previous</span>\n                </a>\n            </li>\n            \x3c!--Numbers--\x3e\n            <li *ngFor="let page of pagesIndex" [ngClass]="{\'page-item active\': (currentIndex == page)}">\n                <a (click)="setPage(page)" class="page-link">{{page}}</a>\n            </li>\n            \x3c!--Arrow right--\x3e\n            <li [ngClass]="{\'page-item\': (currentIndex == pageNumber || pageNumber == 0)}">\n                <a class="page-link" aria-label="Next" (click)="nextPage()">\n                    <span aria-hidden="true">&raquo;</span>\n                    <span class="sr-only">Next</span>\n                </a>\n            </li>\n        </ul>\n    </div>\n    <div class="col-xs-4 col-sm-4 col-md-4"></div>\n</div>\n</div>\n',styles:[".pagination .page-item.active .page-link{background-color:#282828!important;color:#f8f8f8!important;font-weight:700!important}.pagination .page-link{margin:0 5px;border-radius:5px}.pagination .page-link:hover{background-color:#f8f8f8!important}"]}]}],t.propDecorators={dataTable:[{type:e.Input}],itemsForPage:[{type:e.Input}],pagination:[{type:e.Input}],filterValue:[{type:e.Input}]},t}(),s=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,i.FormsModule],declarations:[a,o,r],exports:[a,o,r]}]}],t}();t.Angular5TableModule=s,t.ɵa=a,t.ɵb=o,t.ɵc=r,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=angular5-table.umd.min.js.map