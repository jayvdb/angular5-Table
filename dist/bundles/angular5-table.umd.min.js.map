{"version":3,"sources":["ng://angular5-table/src/app/Angular5-Table/Angular5-Table/table.component.ts","ng://angular5-table/src/app/Angular5-Table/filter/filter.component.ts","ng://angular5-table/src/app/Angular5-Table/pagination/pagination.component.ts","ng://angular5-table/src/app/Angular5-Table/angular5-table.module.ts"],"names":["TableComponent","prototype","ngOnInit","console","log","this","dataTable","filterFunction","filterTable","bind","ngDoCheck","inputName","filterComponent","filterValue","items","paginationComponent","paginatedItems","sort","nameColumnParam","sortable","orderType","direction","nameColumn","a","b","FilterByName","Component","args","selector","template","styles","ViewChild","Input","FilterComponent","PaginationComponent","filteredItems","start","pages","Math","ceil","length","itemsForPage","paginateItems","paginationArray","obj","Array","index","pageStart","push","pagination","slice","currentIndex","pagesIndex","prevPage","nextPage","pageNumber","setPage","_this","keys","Object","filter","e","some","e2","includes","Angular5TableModule","NgModule","imports","CommonModule","FormsModule","declarations","exports"],"mappings":"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","sourcesContent":["import { Component,OnInit,DoCheck,Input,ViewChild,Output, EventEmitter } from '@angular/core';\nimport { PaginationComponent } from '../pagination/pagination.component';\nimport { FilterComponent } from '../filter/filter.component';\n\n@Component({\n  selector: 'angular5Table',\n  template: `<div class=\"row\" style=\"margin-right: 1px;\">\n  <div class=\"col-xs-0 col-sm-1 col-md-1\"></div>\n  <div class=\"col-xs-0 col-sm-10 col-md-10\">\n    <app-filter\n      #filterTable\n      [filter]=\"filter\"\n      [filterFunction]=\"filterFunction\">\n    </app-filter>\n    <br>\n    <table class=\"table table-bordered table-condensed\" style=\"text-align:center\">\n        <thead class=\"header-table\">\n          <th *ngFor=\"let key of dataColumn\" (click)=\"sort(key)\">\n            {{key}}\n            <i *ngIf=\"orderType && nameColumn === key\" class=\"material-icons\">&uarr;</i>\n            <i *ngIf=\"!orderType && nameColumn === key\" class=\"material-icons\">&darr;</i>\n          </th>\n          <th *ngFor=\"let option of options\">{{option.name}}</th>\n        </thead>\n        <tbody>\n          <tr *ngFor=\"let item of items; let i=index\">\n            <td *ngFor=\"let key of dataColumn\">{{item[key]}}</td>\n            <td *ngFor=\"let option of options\">\n              <img *ngIf=\"option.type==='img'\" src=\"../assets/{{option.url}}\" class=\"img\" (click)=\"functionDefault(i,option.name,items[i],option)\">\n              <button *ngIf=\"option.type==='button'\" class={{option.class}} (click)=\"functionDefault(i,option.name,items[i],option)\">{{option.name}}</button>\n              <input type=\"text\" *ngIf=\"option.type==='text'\" class={{option.class}}>\n            </td>\n          </tr>\n        </tbody>\n    </table>\n    <br>\n    <app-pagination \n      #paginationTable \n      [dataTable]=\"dataTable\"\n      [itemsForPage]=\"itemsForPage\"\n      [pagination]=\"pagination\"\n      [filterValue]=\"inputName\">\n    </app-pagination>\n  </div>\n  <div class=\"col-xs-0 col-sm-1 col-md-1\"></div>\n</div>\n\n`,\n  styles: [`.img{width:20px;height:20px}.header-table{background-color:#f8f8f8!important}`],\n})\nexport class TableComponent implements OnInit,DoCheck {\n  @ViewChild('paginationTable') paginationComponent: PaginationComponent;\n  @ViewChild('filterTable') filterComponent: FilterComponent;\n  @Input() dataTable;\n  @Input() dataColumn;\n  @Input() itemsForPage;\n  @Input() pagination;\n  @Input() options;\n  @Input() filter;\n  @Input() sortable;\n  @Input() functionDefault;\n  public items: any[] = [];\n  public columsKeys: any[] = [];\n  public orderType: boolean;\n  public nameColumn: string;\n  public inputName: string;\n  public filterFunction: Function;\n  public mergeObject: any[] = [];\n\n  ngOnInit(){\n    console.log(this.dataTable);\n    this.filterFunction = this.filterTable.bind(this);\n  }\n\n  ngDoCheck(){\n    this.inputName = this.filterComponent.filterValue;\n    this.items = this.paginationComponent.paginatedItems;\n  }\n\n  sort(nameColumnParam: string){\n    if(!this.sortable) return;\n    this.orderType = !this.orderType; //change the direction    \n    let direction = this.orderType ? 1 : -1;\n    this.nameColumn = nameColumnParam;\n    this.items.sort(function(a, b){\n        if(a[nameColumnParam] < b[nameColumnParam]){\n            return -1 * direction;\n        }\n        else if( a[nameColumnParam] > b[nameColumnParam]){\n            return 1 * direction;\n        }\n        else{\n            return 0;\n        }\n    });\n  }\n\n  filterTable(){\n    this.paginationComponent.FilterByName();\n  }\n\n}\n","import { Component, OnInit, Input, EventEmitter, DoCheck} from '@angular/core';\n\n@Component({\n  selector: 'app-filter',\n  template: `<div class=\"row\" *ngIf=\"filter\">\n    <div class=\"col-xs-0 col-sm-4 col-md-4\"></div>\n    <div class=\"col-xs-4 col-sm-4 col-md-4\">\n      <div class=\"input-group\">\n        <div class=\"input-group mb-2\">\n          <div class=\"input-group-prepend\">\n            <div class=\"input-group-text\"><i class=\"fa fa-search\"></i></div>\n          </div>\n          <input class=\"form-control\" placeholder=\"Search..\" id=\"inputName\" (keyup)=\"filterFunction()\" [(ngModel)]=\"filterValue\">\n        </div>\n    </div>\n  <div class=\"col-xs-0 col-sm-4 col-md-4\"></div>\n</div>\n<br>`,\n  styles: [``]\n})\nexport class FilterComponent implements OnInit, DoCheck {\n  @Input() filter;\n  @Input() filterFunction;\n  public filterValue: string;\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n  ngDoCheck(){\n  \n  }\n\n}\n","import { Component, OnInit,OnChanges,Input } from '@angular/core';\n\n@Component({\n  selector: 'app-pagination',\n  template: `<div *ngIf=\"pagination\">\n<div class=\"row\">\n    <div class=\"col-xs-4 col-sm-4 col-md-4\"></div>\n    <div class=\"col-xs-4 col-sm-4 col-md-4\">\n        <ul class=\"pagination pagination-circle pg-blue mb-0 justify-content-center\">\n            <!--Arrow left-->\n            <li [ngClass]=\"{'page-item': (currentIndex == 1 || pageNumber == 0)}\">\n                <a class=\"page-link\" aria-label=\"Previous\" (click)=\"prevPage()\">\n                    <span aria-hidden=\"true\">&laquo;</span>\n                    <span class=\"sr-only\">Previous</span>\n                </a>\n            </li>\n            <!--Numbers-->\n            <li *ngFor=\"let page of pagesIndex\" [ngClass]=\"{'page-item active': (currentIndex == page)}\">\n                <a (click)=\"setPage(page)\" class=\"page-link\">{{page}}</a>\n            </li>\n            <!--Arrow right-->\n            <li [ngClass]=\"{'page-item': (currentIndex == pageNumber || pageNumber == 0)}\">\n                <a class=\"page-link\" aria-label=\"Next\" (click)=\"nextPage()\">\n                    <span aria-hidden=\"true\">&raquo;</span>\n                    <span class=\"sr-only\">Next</span>\n                </a>\n            </li>\n        </ul>\n    </div>\n    <div class=\"col-xs-4 col-sm-4 col-md-4\"></div>\n</div>\n</div>\n`,\n  styles: [`.pagination .page-item.active .page-link{background-color:#282828!important;color:#f8f8f8!important;font-weight:700!important}.pagination .page-link{margin:0 5px;border-radius:5px}.pagination .page-link:hover{background-color:#f8f8f8!important}`]\n})\nexport class PaginationComponent implements OnInit {\n  @Input() dataTable;\n  @Input() itemsForPage;\n  @Input() pagination;\n  @Input() filterValue;  \n  public paginatedItems: any[];\n  public pages: number;\n  public pageNumber : number = 1;\n  public currentIndex : number = 1;\n  public pagesIndex : Array<number>;\n  public pageStart : number = 1;\n  public filteredItems: any[];\n\n  ngOnInit() {\n    this.filteredItems = this.dataTable;\n    this.start();\n  }\n\n  start(){\n    this.pages = Math.ceil(this.filteredItems.length / this.itemsForPage);\n    this.paginateItems();\n  }\n  \n  paginationArray(): any{\n    var obj = new Array();\n    for(var index = this.pageStart; index< this.pageStart + this.pages; index ++) {\n      obj.push(index);\n    }\n    return obj;\n  }\n\n  paginateItems(){\n    if(!this.pagination){\n      this.paginatedItems = this.dataTable;\n      return;\n    }\n    this.paginatedItems = this.filteredItems.slice((this.currentIndex - 1) * this.itemsForPage, this.currentIndex * this.itemsForPage);//this.currentIndex * this.itemsForPage, this.currentIndex * this.itemsForPage + this.itemsForPage\n    this.pagesIndex = this.paginationArray();\n  }\n\n  prevPage(){\n    if(this.currentIndex>1){\n       this.currentIndex --;\n    } \n    if(this.currentIndex < this.pageStart){\n       this.pageStart = this.currentIndex;\n    }\n    this.paginateItems();\n  }\n\n  nextPage(){\n    if(this.currentIndex >= this.pages) return;\n    if(this.currentIndex >= this.pageNumber){\n          this.currentIndex ++;\n    }\n    this.paginateItems();\n  }\n\n  setPage(index : number){\n    this.currentIndex = index;\n    this.paginateItems();\n  }\n  \n  FilterByName(){\n    var keys = Object.keys(this.dataTable[0]);\n    this.filteredItems = [];\n    if(this.filterValue != \"\"){\n      this.filteredItems = this.dataTable.filter(e => keys.some(e2 => e[e2].includes(this.filterValue)));\n    }else{\n      this.filteredItems = this.dataTable;\n    }\n    console.log(this.filteredItems);\n    this.start();\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport {TableComponent} from './Angular5-Table/table.component';\nimport {FilterComponent} from './filter/filter.component';\nimport {PaginationComponent} from './pagination/pagination.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule\n  ],\n  declarations: [\n    TableComponent,\n    FilterComponent,\n    PaginationComponent\n  ],\n  exports: [\n    TableComponent,\n    FilterComponent,\n    PaginationComponent\n  ]\n})\nexport class Angular5TableModule { }\n"]}